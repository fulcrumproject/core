  post:
    operationId: eventsLease
    summary: Acquire event lease and fetch events
    tags:
      - Event
    description: Acquire or renew a lease for event processing and fetch events in chronological order
    x-auth-permissions:
      - role: admin
        permission: always
      - role: participant
        permission: not authorized
      - role: agent
        permission: not authorized
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../components/schemas/events.yaml#/EventLeaseReq"
    responses:
      "200":
        description: Lease acquired successfully with events
        content:
          application/json:
            schema:
              $ref: "../components/schemas/events.yaml#/EventLeaseRes"
      "400":
        $ref: "../components/responses.yaml#/BadRequest"
      "401":
        $ref: "../components/responses.yaml#/Unauthorized"
      "403":
        $ref: "../components/responses.yaml#/Forbidden"
      "409":
        description: Lease conflict - held by another instance
        content:
          application/json:
            schema:
              $ref: "../components/schemas/common.yaml#/ErrorRes"
      "500":
        $ref: "../components/responses.yaml#/InternalServerError"
